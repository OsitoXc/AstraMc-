<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AstraMc - BoxPvP Dragon Ball</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <img src="logo.png" alt="AstraMc Logo" class="logo">
            <h1>AstraMc</h1>
            <p>¡Únete a nuestra aventura BoxPvP Dragon Ball!</p>
        </header>

        <div class="buttons">
            <a href="https://discord.gg/sCuRvjKP5Y" class="discord-button">
                Unirse al Discord
            </a>
            <a href="minecraft://play.astramc.xyz:19284" class="play-button">
                Jugar Ahora
            </a>
        </div>

        <!-- IP y puerto en la esquina -->
        <div class="server-info">
            <p>IP: play.astramc.xyz</p>
            <p>Puerto: 19284</p>
        </div>

        <!-- Sección para poner el Nick y ver la skin -->
        <div class="skin-viewer">
            <h2>Ver tu Skin</h2>
            <input type="text" id="minecraftNick" placeholder="Ingresa tu Nick de Minecraft">
            <button onclick="verSkin()">Ver Skin</button>
            <div id="skinResult"></div>
        </div>

        <footer>
            <p>Servidor AstraMc - BoxPvP Dragon Ball</p>
        </footer>
    </div>

    <!-- Popup para agregar el servidor -->
    <div id="serverPopup" class="popup">
        <div class="popup-content">
            <span class="close-btn" onclick="closePopup()">&times;</span>
            <h2>¡Añadir AstraMc a tu lista de servidores de Minecraft!</h2>
            <p>Sigue estos pasos para agregar el servidor automáticamente:</p>
            <ol>
                <li>Abre Minecraft y ve a la pantalla de "Multijugador".</li>
                <li>Haz clic en "Agregar servidor".</li>
                <li>En el campo "Dirección del servidor", ingresa: <strong>play.astramc.xyz:19284</strong></li>
                <li>Haz clic en "Hecho" y listo, ¡estás listo para jugar!</li>
            </ol>
            <button onclick="closePopup()">Cerrar</button>
        </div>
    </div>

    <!-- Partículas en los botones -->
    <script src="particles.js"></script>
    <script>
        // Mostrar el popup después de un clic en "Jugar Ahora"
        document.querySelector('.play-button').addEventListener('click', function(event) {
            event.preventDefault(); // Evitar que se abra el juego inmediatamente
            document.getElementById('serverPopup').style.display = 'block'; // Mostrar popup
        });

        // Cerrar el popup
        function closePopup() {
            document.getElementById('serverPopup').style.display = 'none';
        }

        // Función para ver la skin del jugador
        function verSkin() {
            var nick = document.getElementById("minecraftNick").value.trim();
            if (nick) {
                var url = `https://api.mojang.com/users/profiles/minecraft/${nick}`;
                fetch(url)
                    .then(response => response.json())
                    .then(data => {
                        if (data && data.id) {
                            var skinUrl = `https://crafatar.com/avatars/${data.id}?size=100&overlay=true`;
                            document.getElementById("skinResult").innerHTML = `<img src="${skinUrl}" alt="Skin de Minecraft" />`;
                        } else {
                            document.getElementById("skinResult").innerHTML = "No se pudo encontrar la skin.";
                        }
                    })
                    .catch(() => {
                        document.getElementById("skinResult").innerHTML = "Error al obtener la skin.";
                    });
            } else {
                document.getElementById("skinResult").innerHTML = "Por favor, ingresa un Nick de Minecraft.";
            }
        }
    </script>
</body>
</html>
